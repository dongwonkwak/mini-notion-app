{
  "name": "Spec Documents Sync",
  "description": "Requirements, Design, Tasks 문서 중 하나가 변경되면 나머지 문서들을 자동으로 동기화합니다",
  "trigger": {
    "type": "file_change",
    "patterns": [
      ".kiro/specs/**/requirements.md",
      ".kiro/specs/**/design.md",
      ".kiro/specs/**/tasks.md"
    ]
  },
  "conditions": [
    {
      "type": "file_exists",
      "path": ".kiro/specs/realtime-collaborative-editor/requirements.md"
    },
    {
      "type": "file_exists",
      "path": ".kiro/specs/realtime-collaborative-editor/design.md"
    },
    {
      "type": "file_exists",
      "path": ".kiro/specs/realtime-collaborative-editor/tasks.md"
    }
  ],
  "prompt": "다음 spec 문서가 변경되었습니다: {{changed_file}}\n\n변경된 내용을 분석하고 다른 spec 문서들과의 일관성을 확인해주세요:\n\n**1. Requirements 문서 검토**\n- 요구사항이 변경되었다면 Design과 Tasks에 반영되었는지 확인\n- 새로운 요구사항이 추가되었다면 해당하는 설계와 구현 계획 필요\n\n**2. Design 문서 검토**\n- 설계가 변경되었다면 Requirements를 만족하고 Tasks가 업데이트되었는지 확인\n- 새로운 아키텍처나 컴포넌트가 추가되었다면 구현 태스크 필요\n\n**3. Tasks 문서 검토**\n- 구현 계획이 변경되었다면 Requirements와 Design과 일치하는지 확인\n- 완료된 태스크에 추가 작업이 기입되었다면 Design에 반영 필요\n- 새로운 테스트나 도구가 추가되었다면 Testing Strategy와 일치하는지 확인\n\n**4. 자동 동기화 수행**\n불일치하는 부분이 있다면:\n- 누락된 요구사항, 설계, 또는 태스크를 자동으로 추가\n- 변경사항이 있을 때만 파일을 수정\n- 변경 내용을 상세히 요약해서 알려주세요\n\n**참고 문서:**\n- Requirements: .kiro/specs/realtime-collaborative-editor/requirements.md\n- Design: .kiro/specs/realtime-collaborative-editor/design.md  \n- Tasks: .kiro/specs/realtime-collaborative-editor/tasks.md\n- Testing Strategy: .kiro/steering/testing-strategy.md",
  "auto_execute": true,
  "enabled": true
}
